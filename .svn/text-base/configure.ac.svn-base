AC_INIT([libreverse], [0.7])
AM_INIT_AUTOMAKE([tar-pax])

RS_COMPILER
RS_COMPILER_DEBUG
RS_COMPILER_VERSION_CHECK
RS_COMPILER_PROFILING

AC_PROG_LIBTOOL



AC_ARG_ENABLE(debug-boost-pointers,
	AC_HELP_STRING(--enable-debug-boost-pointers, [Turn debugging code for boost shared pointers]),
	enable_debug_pointers=$enableval, enable_debug_pointers=no)

if test "$enable_debug_pointers" = "yes"; then
    BUILD_CXXFLAGS="$BUILD_CXXFLAGS -DBOOST_SP_ENABLE_DEBUG_HOOKS"
fi


CFLAGS="$BUILD_CFLAGS"
CXXFLAGS="$BUILD_CXXFLAGS"

AC_CONFIG_HEADERS([libreverse/include/config.h])

RS_BOOST([1.34.1],
        [
                has_boost="true"
        ],
        [
                AC_MSG_ERROR([Libreverse requires the Boost C++ libraries!])
        ])
AM_CONDITIONAL(BUILD_BOOST, test x$has_boost = xtrue )

RS_BOOST_DATETIME([],[AC_MSG_ERROR([Libreverse requires the boost_datetime for compiling tests])])

AM_WITH_EXPAT

AM_WITH_ICU

AC_CONFIG_FILES([
formulas/Makefile
config_files/Makefile
libreverse/errors/Makefile
libreverse/infrastructure/data_source/Makefile
libreverse/infrastructure/Makefile
libreverse/infrastructure/visitor/Makefile
libreverse/meta/Makefile
libreverse/api/Makefile
libreverse/api/tests/Makefile
libreverse/components/input/Makefile
libreverse/components/input/grnn/Makefile
libreverse/components/input/instruction_decoders/Makefile
libreverse/components/Makefile
libreverse/components/output/Makefile
libreverse/Makefile
libreverse/data_containers/Makefile
libreverse/data_containers/visitor/Makefile
libreverse/io/input/File_Readers/Windows_PE/Makefile
libreverse/io/input/File_Readers/Windows_PE/tests/Makefile
libreverse/io/input/File_Readers/Makefile
libreverse/io/input/File_Readers/Elf/Makefile
libreverse/io/input/File_Readers/Java_Class/Makefile
libreverse/io/input/File_Readers/Java_Class/tests/Makefile
libreverse/io/input/File_Readers/Mach/Makefile
libreverse/io/input/Makefile
libreverse/io/Makefile
libreverse/include/Makefile
libreverse/applications/Makefile
libreverse/applications/grnn/Makefile
libreverse/applications/instruction_decoders/Makefile
Makefile
])
AC_OUTPUT
